/*! UIkit 2.18.0 | http://www.getuikit.com | (c) 2014 YOOtheme | MIT License */
!function(t){var i;window.UIkit&&(i=t(UIkit)),"function"==typeof define&&define.amd&&define("uikit-slider",["uikit"],function(){return i||t(UIkit)})}(function(t){"use strict";var i,e,s,a,n={};return t.component("slider",{defaults:{center:!1,threshold:10,infinite:!0,activecls:"uk-active"},boot:function(){t.ready(function(i){setTimeout(function(){t.$("[data-uk-slider]",i).each(function(){var i=t.$(this);i.data("slider")||t.slider(i,t.Utils.options(i.attr("data-uk-slider")))})},0)})},init:function(){var o=this;this.container=this.element.find(".uk-slider"),this.focus=0,t.$win.on("resize load",t.Utils.debounce(function(){o.resize(!0)},100)),this.on("click.uikit.slider","[data-uk-slider-item]",function(i){i.preventDefault();var e=t.$(this).attr("data-uk-slider-item");if(o.focus!=e)switch(e){case"next":case"previous":o["next"==e?"next":"previous"]();break;default:o.updateFocus(parseInt(slide,10))}}),this.container.on("touchstart mousedown",function(h){h.button&&2==h.button||!o.active||(s=t.$(h.target).is("a")?t.$(h.target):t.$(h.target).parents("a:first"),a=!1,s.length&&s.one("click",function(t){a&&t.preventDefault()}),e=function(t){a=!0,i=o,n={touchx:parseInt(t.pageX,10),dir:1,focus:o.focus,base:o.options.center?"center":"area"},t.originalEvent&&t.originalEvent.touches&&(t=t.originalEvent.touches[0]),i.element.data({"pointer-start":{x:parseInt(t.pageX,10),y:parseInt(t.pageY,10)},"pointer-pos-start":o.pos}),o.container.addClass("uk-drag"),e=!1},e.x=parseInt(h.pageX,10),e.threshold=o.options.threshold)}),this.resize(!0),this.on("display.uk.check",function(){o.element.is(":visible")&&o.resize(!0)}),this.element.find("a,img").attr("draggable","false")},resize:function(){var i,e,s,a=this,n=0,o=0;return this.items=this.container.children(),this.vp=this.element[0].getBoundingClientRect().width,this.container.css({"min-width":"","min-height":""}),this.items.each(function(h){i=t.$(this),s=i.css({left:"",width:""})[0].getBoundingClientRect(),e=s.width,o=Math.max(o,s.height),i.css({left:n,width:e}).data({idx:h,left:n,width:e,area:n+e,center:n-(a.vp/2-e/2)}),n+=e}),this.container.css({"min-width":n,"min-height":o}),this.options.infinite&&n<=2*this.vp&&!this.itemsResized?(this.items.each(function(t){a.container.append(a.items.eq(t).clone(!0))}),this.items.each(function(t){a.container.append(a.items.eq(t).clone(!0))}),this.itemsResized=!0,this.resize()):(this.cw=n,this.pos=0,this.active=n>=this.vp,this.container.css({"-ms-transform":"","-webkit-transform":"",transform:""}),this.updateFocus(0),void 0)},updatePos:function(t){this.pos=t,this.container.css({"-ms-transform":"translateX("+t+"px)","-webkit-transform":"translateX("+t+"px)",transform:"translateX("+t+"px)"})},updateFocus:function(t,i){if(this.active){i=i||(t>this.focus?1:-1);var e,s,a=this.items.eq(t);if(this.options.infinite&&this.infinite(t,i),this.options.center)this.updatePos(-1*a.data("center")),this.items.filter("."+this.options.activecls).removeClass(this.options.activecls),a.addClass(this.options.activecls);else if(this.options.infinite)this.updatePos(-1*a.data("left"));else{for(e=0,s=t;s<this.items.length;s++)e+=this.items.eq(s).data("width");if(e>this.vp)this.updatePos(-1*a.data("left"));else if(1==i){for(e=0,s=this.items.length-1;s>=0;s--)if(e+=this.items.eq(s).data("width"),e>=this.vp){t=s;break}this.updatePos(-1*this.items.eq(t).data("left"))}}this.focus=t,this.trigger("focus.uikit.slider",[t,this.items.eq(t),this])}},next:function(){var t=this.items[this.focus+1]?this.focus+1:this.options.infinite?0:this.focus;this.updateFocus(t,1)},previous:function(){var t=this.items[this.focus-1]?this.focus-1:this.options.infinite?this.items[this.focus-1]?this.items-1:this.items.length-1:this.focus;this.updateFocus(t,-1)},infinite:function(t,i){var e,s,a,n=this,o=this.items.eq(t),h=t;if(1==i){var r=0;for(e=0;e<this.items.length;e++)this.items.eq(h).data("left")>r&&(a=this.items.eq(h),r=a.data("left")),h=h+1==this.items.length?0:h+1;a&&a.data("left")-o.data("left")<=this.vp&&(s=this.items.eq(this.items[a.data("idx")+1]?a.data("idx")+1:0),s.css({left:a.data("area")}).data({left:a.data("area"),area:a.data("area")+s.data("width"),center:a.data("area")+s.data("width")-(this.vp/2-s.data("width")/2)}))}else if(this.options.center){var d=0;for(s=[],e=this.items.length-1;e<this.items.length&&(d+=this.items.eq(h).data("width"),h!=t&&s.push(this.items.eq(h)),!(d>this.vp));e--)h=h-1==-1?this.items.length-1:h-1;s.length&&s.forEach(function(t){var i=o.data("left")-t.data("width");t.css({left:i}).data({left:i,area:i+t.data("width"),center:i-(n.vp/2-t.data("width")/2)}),o=t})}else{var c=1e36;for(e=0;e<this.items.length;e++)this.items.eq(h).data("left")<c&&(a=this.items.eq(h),c=a.data("left")),h=h+1==this.items.length?0:h+1;if(a.data("left")-o.data("left")<=0){s=this.items.eq(this.items[a.data("idx")-1]?a.data("idx")-1:this.items.length-1);var f=o.data("left")-s.data("width");s.css({left:f}).data({left:f,area:f+s.data("width"),center:f-(this.vp/2-s.data("width")/2)})}}}}),t.$doc.on("mousemove.uikit.slider touchmove.uikit.slider",function(t){if(t.originalEvent&&t.originalEvent.touches&&(t=t.originalEvent.touches[0]),e&&!window.getSelection().toString()&&Math.abs(t.pageX-e.x)>e.threshold&&e(t),i){var s,a,o,h,r,d,c,f,u,l;if(t.clientX||t.clientY?s=t.clientX:(t.pageX||t.pageY)&&(s=t.pageX-document.body.scrollLeft-document.documentElement.scrollLeft),r=n.focus,a=s-i.element.data("pointer-start").x,o=i.element.data("pointer-pos-start")+a,h=s>n.touchx?-1:1,d=i.items.eq(n.focus),1==h)for(c=d.data("left")+Math.abs(a),f=0,u=n.focus;f<i.items.length;f++){if(l=i.items.eq(u),u!=n.focus&&l.data("left")<c&&l.data("area")>c){r=u;break}u=u+1==i.items.length?0:u+1}else for(c=d.data("left")-Math.abs(a),f=0,u=n.focus;f<i.items.length;f++){if(l=i.items.eq(u),u!=n.focus&&l.data("area")<=d.data("left")&&c>l.data("center")){r=u;break}u=u-1==-1?i.items.length-1:u-1}i.options.infinite&&r!=n._focus&&i.infinite(r,h),i.updatePos(o),n.dir=h,n._focus=r,n.touchx=parseInt(t.pageX,10)}}),t.$doc.on("mouseup.uikit.slider touchend.uikit.slider",function(){i&&(i.container.removeClass("uk-drag"),i.updateFocus(n._focus),setTimeout(function(){i[1==n.dir?"next":"previous"](),i=e=!1},10))}),t.slider});